<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Pixel</title>

  </head>
  <body style="background: #1e1e1e; color: #eee;">
    <div id="preloader" aria-hidden="true" style="display:flex;align-items:center;justify-content:center;height:100vh;">
      <div style="width:120px;height:120px">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><rect fill="#EEEEEE" stroke="#EEEEEE" stroke-width="15" width="30" height="30" x="25" y="85"><animate attributeName="opacity" calcMode="spline" dur="2" values="1;0;1;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.4"></animate></rect><rect fill="#EEEEEE" stroke="#EEEEEE" stroke-width="15" width="30" height="30" x="85" y="85"><animate attributeName="opacity" calcMode="spline" dur="2" values="1;0;1;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.2"></animate></rect><rect fill="#EEEEEE" stroke="#EEEEEE" stroke-width="15" width="30" height="30" x="145" y="85"><animate attributeName="opacity" calcMode="spline" dur="2" values="1;0;1;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="0"></animate></rect></svg>
      </div>
    </div>
    <main id="app" style="display:none">
      <h1>Pixel</h1>
      <div>
        <h2>Systèmes détectés</h2>
        <div id="systems" class="systems-row"></div>
      </div>
    </main>
    <!-- Bouton paramètres -->
    <button id="settings-btn" class="settings-btn" title="Paramètres" aria-label="Paramètres">⚙️</button>

    <!-- Modal paramètres -->
    <div id="settings-modal" class="modal-overlay" aria-hidden="true" style="display:none;">
      <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="settings-title">
        <h2 id="settings-title">Paramètres</h2>
        <form id="settings-form">
          <div class="form-row">
            <label for="roms-root">Dossier ROMs (romsRoot)</label>
            <div class="input-row">
              <input type="text" id="roms-root" name="romsRoot" placeholder="C:\\chemin\\vers\\roms" />
              <button type="button" id="browse-roms" class="secondary">Parcourir…</button>
            </div>
          </div>
          <div class="form-row">
            <label for="emulators-root">Dossier émulateurs (emulatorsRoot)</label>
            <div class="input-row">
              <input type="text" id="emulators-root" name="emulatorsRoot" placeholder="C:\\chemin\\vers\\emulateurs" />
              <button type="button" id="browse-emulators" class="secondary">Parcourir…</button>
            </div>
          </div>
          <div class="form-row">
            <label for="tools-root">Dossier outils (toolsRoot)</label>
            <div class="input-row">
              <input type="text" id="tools-root" name="toolsRoot" placeholder="(optionnel)" />
              <button type="button" id="browse-tools" class="secondary">Parcourir…</button>
            </div>
          </div>
          <div class="form-actions">
            <button type="button" id="settings-cancel">Annuler (Esc)</button>
            <button type="submit" id="settings-save" class="primary">Enregistrer</button>
          </div>
        </form>
      </div>
    </div>
    <script type="module" src="/src/renderer.ts"></script>
  </body>
</html>
